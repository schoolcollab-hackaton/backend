users = [
  {
    "id": 1,
    "nom": "Dupont",
    "prenom": "Jean",
    "email": "jean.dupont@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 120,
    "avatar": "https://example.com/avatars/1.jpg",
    "discord": "jeandupont#1234",
    "linkedin": "https://linkedin.com/in/jeandupont",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 2,
    "nom": "Martin",
    "prenom": "Sophie",
    "email": "sophie.martin@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 85,
    "avatar": "https://example.com/avatars/2.jpg",
    "discord": "sophiem#5678",
    "linkedin": "https://linkedin.com/in/sophiemartin",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 3,
    "nom": "Bernard",
    "prenom": "Thomas",
    "email": "thomas.bernard@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 150,
    "avatar": "https://example.com/avatars/3.jpg",
    "discord": "thomasb#9012",
    "linkedin": "https://linkedin.com/in/thomasbernard",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 4,
    "nom": "Petit",
    "prenom": "Marie",
    "email": "marie.petit@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 95,
    "avatar": "https://example.com/avatars/4.jpg",
    "discord": "mariep#3456",
    "linkedin": "https://linkedin.com/in/mariepetit",
    "filiere": "CCSN",
    "niveau": 4,
    "profile_completed": True
  },
  {
    "id": 5,
    "nom": "Durand",
    "prenom": "Pierre",
    "email": "pierre.durand@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 110,
    "avatar": "https://example.com/avatars/5.jpg",
    "discord": "pierred#7890",
    "linkedin": "https://linkedin.com/in/pierredurand",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 6,
    "nom": "Leroy",
    "prenom": "Julie",
    "email": "julie.leroy@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 75,
    "avatar": "https://example.com/avatars/6.jpg",
    "discord": "juliel#1234",
    "linkedin": "https://linkedin.com/in/julieleroy",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 7,
    "nom": "Moreau",
    "prenom": "Luc",
    "email": "luc.moreau@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 130,
    "avatar": "https://example.com/avatars/7.jpg",
    "discord": "lucm#5678",
    "linkedin": "https://linkedin.com/in/lucmoreau",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 8,
    "nom": "Simon",
    "prenom": "Claire",
    "email": "claire.simon@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 100,
    "avatar": "https://example.com/avatars/8.jpg",
    "discord": "claires#9012",
    "linkedin": "https://linkedin.com/in/clairesimon",
    "filiere": "CCSN",
    "niveau": 5,
    "profile_completed": True
  },
  {
    "id": 9,
    "nom": "Laurent",
    "prenom": "Antoine",
    "email": "antoine.laurent@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 65,
    "avatar": "https://example.com/avatars/9.jpg",
    "discord": "antoinel#3456",
    "linkedin": "https://linkedin.com/in/antoinelaurent",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 10,
    "nom": "Michel",
    "prenom": "Elodie",
    "email": "elodie.michel@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 140,
    "avatar": "https://example.com/avatars/10.jpg",
    "discord": "elodiem#7890",
    "linkedin": "https://linkedin.com/in/elodiemichel",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 11,
    "nom": "Garcia",
    "prenom": "David",
    "email": "david.garcia@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 90,
    "avatar": "https://example.com/avatars/11.jpg",
    "discord": "davidg#1234",
    "linkedin": "https://linkedin.com/in/davidgarcia",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 12,
    "nom": "Roux",
    "prenom": "Sarah",
    "email": "sarah.roux@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 115,
    "avatar": "https://example.com/avatars/12.jpg",
    "discord": "sarahroux#5678",
    "linkedin": "https://linkedin.com/in/sarahroux",
    "filiere": "CCSN",
    "niveau": 4,
    "profile_completed": True
  },
  {
    "id": 13,
    "nom": "Fournier",
    "prenom": "Nicolas",
    "email": "nicolas.fournier@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 80,
    "avatar": "https://example.com/avatars/13.jpg",
    "discord": "nicof#9012",
    "linkedin": "https://linkedin.com/in/nicolasfournier",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 14,
    "nom": "Lefebvre",
    "prenom": "Camille",
    "email": "camille.lefebvre@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 125,
    "avatar": "https://example.com/avatars/14.jpg",
    "discord": "camillel#3456",
    "linkedin": "https://linkedin.com/in/camillelefebvre",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 15,
    "nom": "Leroux",
    "prenom": "Alexandre",
    "email": "alexandre.leroux@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 70,
    "avatar": "https://example.com/avatars/15.jpg",
    "discord": "alexl#7890",
    "linkedin": "https://linkedin.com/in/alexandreleroux",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 16,
    "nom": "Rousseau",
    "prenom": "Laura",
    "email": "laura.rousseau@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 135,
    "avatar": "https://example.com/avatars/16.jpg",
    "discord": "laurar#1234",
    "linkedin": "https://linkedin.com/in/laurarousseau",
    "filiere": "CCSN",
    "niveau": 5,
    "profile_completed": True
  },
  {
    "id": 17,
    "nom": "Vincent",
    "prenom": "Mathieu",
    "email": "mathieu.vincent@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 95,
    "avatar": "https://example.com/avatars/17.jpg",
    "discord": "mathieuv#5678",
    "linkedin": "https://linkedin.com/in/mathieuvincent",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 18,
    "nom": "Muller",
    "prenom": "Charlotte",
    "email": "charlotte.muller@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 105,
    "avatar": "https://example.com/avatars/18.jpg",
    "discord": "charlottem#9012",
    "linkedin": "https://linkedin.com/in/charlottemuller",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 19,
    "nom": "Schmitt",
    "prenom": "Paul",
    "email": "paul.schmitt@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 120,
    "avatar": "https://example.com/avatars/19.jpg",
    "discord": "paulschmitt#3456",
    "linkedin": "https://linkedin.com/in/paulschmitt",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 20,
    "nom": "Weber",
    "prenom": "Manon",
    "email": "manon.weber@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 85,
    "avatar": "https://example.com/avatars/20.jpg",
    "discord": "manonw#7890",
    "linkedin": "https://linkedin.com/in/manonweber",
    "filiere": "CCSN",
    "niveau": 4,
    "profile_completed": True
  },
  {
    "id": 21,
    "nom": "Noël",
    "prenom": "Hugo",
    "email": "hugo.noel@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 110,
    "avatar": "https://example.com/avatars/21.jpg",
    "discord": "hugon#1234",
    "linkedin": "https://linkedin.com/in/hugonoel",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 22,
    "nom": "Marchand",
    "prenom": "Léa",
    "email": "lea.marchand@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 75,
    "avatar": "https://example.com/avatars/22.jpg",
    "discord": "leam#5678",
    "linkedin": "https://linkedin.com/in/leamarchand",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 23,
    "nom": "Perrot",
    "prenom": "Quentin",
    "email": "quentin.perrot@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 130,
    "avatar": "https://example.com/avatars/23.jpg",
    "discord": "quentinp#9012",
    "linkedin": "https://linkedin.com/in/quentinperrot",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 24,
    "nom": "Denis",
    "prenom": "Emma",
    "email": "emma.denis@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 100,
    "avatar": "https://example.com/avatars/24.jpg",
    "discord": "emmad#3456",
    "linkedin": "https://linkedin.com/in/emmadennis",
    "filiere": "CCSN",
    "niveau": 5,
    "profile_completed": True
  },
  {
    "id": 25,
    "nom": "Dumont",
    "prenom": "Adrien",
    "email": "adrien.dumont@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 65,
    "avatar": "https://example.com/avatars/25.jpg",
    "discord": "adriend#7890",
    "linkedin": "https://linkedin.com/in/adriendumont",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 26,
    "nom": "Chevalier",
    "prenom": "Clara",
    "email": "clara.chevalier@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 140,
    "avatar": "https://example.com/avatars/26.jpg",
    "discord": "clarac#1234",
    "linkedin": "https://linkedin.com/in/clarachevalier",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 27,
    "nom": "Maillard",
    "prenom": "Romain",
    "email": "romain.maillard@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 90,
    "avatar": "https://example.com/avatars/27.jpg",
    "discord": "romainm#5678",
    "linkedin": "https://linkedin.com/in/romainmaillard",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 28,
    "nom": "Bertrand",
    "prenom": "Inès",
    "email": "ines.bertrand@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 115,
    "avatar": "https://example.com/avatars/28.jpg",
    "discord": "inesb#9012",
    "linkedin": "https://linkedin.com/in/inesbertrand",
    "filiere": "CCSN",
    "niveau": 4,
    "profile_completed": True
  },
  {
    "id": 29,
    "nom": "Rivière",
    "prenom": "Maxime",
    "email": "maxime.riviere@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 80,
    "avatar": "https://example.com/avatars/29.jpg",
    "discord": "maximer#3456",
    "linkedin": "https://linkedin.com/in/maximeriviere",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 30,
    "nom": "Blanc",
    "prenom": "Océane",
    "email": "oceane.blanc@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 125,
    "avatar": "https://example.com/avatars/30.jpg",
    "discord": "oceaneb#7890",
    "linkedin": "https://linkedin.com/in/oceaneblanc",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 31,
    "nom": "Girard",
    "prenom": "Théo",
    "email": "theo.girard@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 70,
    "avatar": "https://example.com/avatars/31.jpg",
    "discord": "theog#1234",
    "linkedin": "https://linkedin.com/in/theogirard",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 32,
    "nom": "Boyer",
    "prenom": "Léna",
    "email": "lena.boyer@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 135,
    "avatar": "https://example.com/avatars/32.jpg",
    "discord": "lenab#5678",
    "linkedin": "https://linkedin.com/in/lenaboyer",
    "filiere": "CCSN",
    "niveau": 5,
    "profile_completed": True
  },
  {
    "id": 33,
    "nom": "André",
    "prenom": "Enzo",
    "email": "enzo.andre@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 95,
    "avatar": "https://example.com/avatars/33.jpg",
    "discord": "enzoandre#9012",
    "linkedin": "https://linkedin.com/in/enzoandre",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 34,
    "nom": "Hubert",
    "prenom": "Chloé",
    "email": "chloe.hubert@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 105,
    "avatar": "https://example.com/avatars/34.jpg",
    "discord": "chloeh#3456",
    "linkedin": "https://linkedin.com/in/chloehubert",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 35,
    "nom": "Leclerc",
    "prenom": "Nathan",
    "email": "nathan.leclerc@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 120,
    "avatar": "https://example.com/avatars/35.jpg",
    "discord": "nathanl#7890",
    "linkedin": "https://linkedin.com/in/nathanleclerc",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 36,
    "nom": "Guillaume",
    "prenom": "Zoé",
    "email": "zoe.guillaume@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 85,
    "avatar": "https://example.com/avatars/36.jpg",
    "discord": "zoeg#1234",
    "linkedin": "https://linkedin.com/in/zoeguillaume",
    "filiere": "CCSN",
    "niveau": 4,
    "profile_completed": True
  },
  {
    "id": 37,
    "nom": "Lemoine",
    "prenom": "Tom",
    "email": "tom.lemoine@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 110,
    "avatar": "https://example.com/avatars/37.jpg",
    "discord": "toml#5678",
    "linkedin": "https://linkedin.com/in/tomlemoine",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 38,
    "nom": "Roche",
    "prenom": "Louise",
    "email": "louise.roche@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 75,
    "avatar": "https://example.com/avatars/38.jpg",
    "discord": "louiser#9012",
    "linkedin": "https://linkedin.com/in/louiseroche",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 39,
    "nom": "Roy",
    "prenom": "Baptiste",
    "email": "baptiste.roy@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 130,
    "avatar": "https://example.com/avatars/39.jpg",
    "discord": "baptister#3456",
    "linkedin": "https://linkedin.com/in/baptisteroy",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 40,
    "nom": "Noir",
    "prenom": "Juliette",
    "email": "juliette.noir@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 100,
    "avatar": "https://example.com/avatars/40.jpg",
    "discord": "julietten#7890",
    "linkedin": "https://linkedin.com/in/juliettenoir",
    "filiere": "CCSN",
    "niveau": 5,
    "profile_completed": True
  },
  {
    "id": 41,
    "nom": "Fontaine",
    "prenom": "Lucas",
    "email": "lucas.fontaine@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 65,
    "avatar": "https://example.com/avatars/41.jpg",
    "discord": "lucasf#1234",
    "linkedin": "https://linkedin.com/in/lucasfontaine",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 42,
    "nom": "Mercier",
    "prenom": "Lola",
    "email": "lola.mercier@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 140,
    "avatar": "https://example.com/avatars/42.jpg",
    "discord": "lolam#5678",
    "linkedin": "https://linkedin.com/in/lolamercier",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 43,
    "nom": "Dupuis",
    "prenom": "Mathis",
    "email": "mathis.dupuis@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 90,
    "avatar": "https://example.com/avatars/43.jpg",
    "discord": "mathisd#9012",
    "linkedin": "https://linkedin.com/in/mathisdupuis",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  },
  {
    "id": 44,
    "nom": "Colin",
    "prenom": "Eva",
    "email": "eva.colin@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 115,
    "avatar": "https://example.com/avatars/44.jpg",
    "discord": "evac#3456",
    "linkedin": "https://linkedin.com/in/evacolin",
    "filiere": "CCSN",
    "niveau": 4,
    "profile_completed": True
  },
  {
    "id": 45,
    "nom": "Vidal",
    "prenom": "Arthur",
    "email": "arthur.vidal@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 80,
    "avatar": "https://example.com/avatars/45.jpg",
    "discord": "arthurv#7890",
    "linkedin": "https://linkedin.com/in/arthurvidal",
    "filiere": "WMD",
    "niveau": 2,
    "profile_completed": True
  },
  {
    "id": 46,
    "nom": "Caron",
    "prenom": "Alice",
    "email": "alice.caron@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 125,
    "avatar": "https://example.com/avatars/46.jpg",
    "discord": "alicec#1234",
    "linkedin": "https://linkedin.com/in/alicecaron",
    "filiere": "API",
    "niveau": 3,
    "profile_completed": True
  },
  {
    "id": 47,
    "nom": "Picard",
    "prenom": "Gabriel",
    "email": "gabriel.picard@estiam.com",
    "password": "$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW",
    "score": 70,
    "avatar": "https://example.com/avatars/47.jpg",
    "discord": "gabrielp#5678",
    "linkedin": "https://linkedin.com/in/gabrielpicard",
    "filiere": "BDAI",
    "niveau": 1,
    "profile_completed": True
  }
]

import asyncio
import random
from tortoise import Tortoise
import sys
import os

# Add the parent directory to the path to import app modules
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from app.models.models import (
    Utilisateur, 
    FiliereEnum, 
    NiveauEnum, 
    RoleEnum,
    Competence,
    CentreInteret,
    UtilisateurCompetence,
    UtilisateurCentreInteret,
    UtilisateurRole,
    Groupe,
    UtilisateurGroupe
)

# Predefined competences by filiere
COMPETENCES_BY_FILIERE = {
    FiliereEnum.WMD: [
        "HTML/CSS", "JavaScript", "React", "Vue.js", "Angular", "Node.js", 
        "PHP", "WordPress", "Figma", "Adobe Photoshop", "UI/UX Design", 
        "Responsive Design", "SASS/SCSS", "Bootstrap", "jQuery", "Git"
    ],
    FiliereEnum.API: [
        "Java", "Spring Boot", "C#", ".NET", "Python", "Django", "Flask",
        "REST API", "GraphQL", "Microservices", "Docker", "Kubernetes",
        "AWS", "Azure", "PostgreSQL", "MySQL", "MongoDB", "Redis"
    ],
    FiliereEnum.BDAI: [
        "Python", "R", "SQL", "Machine Learning", "Deep Learning", "TensorFlow",
        "PyTorch", "Pandas", "NumPy", "Scikit-learn", "Data Visualization",
        "Tableau", "Power BI", "Apache Spark", "Statistics", "Excel"
    ],
    FiliereEnum.CCSN: [
        "Network Security", "Penetration Testing", "Ethical Hacking", "Firewall",
        "SIEM", "Incident Response", "Risk Assessment", "Compliance", 
        "Linux", "Windows Server", "Cisco", "Wireshark", "Nmap", "Metasploit"
    ]
}

# General competences (cross-filiere)
GENERAL_COMPETENCES = [
    "Git", "Linux", "Windows", "Project Management", "Agile", "Scrum",
    "Communication", "Team Leadership", "Problem Solving", "English",
    "Presentation Skills", "Documentation", "Testing", "Debugging"
]

# Centres d'intérêts
CENTRES_INTERETS = [
    "Intelligence Artificielle", "Développement Web", "Cybersécurité", 
    "Data Science", "Cloud Computing", "Mobile Development", "DevOps",
    "Blockchain", "IoT", "Gaming", "E-commerce", "Fintech", "Healthtech",
    "EdTech", "Startup", "Innovation", "Open Source", "Agile", "Scrum",
    "Design Thinking", "UX Research", "Digital Marketing", "SEO",
    "Content Creation", "Video Editing", "Photography", "Music Production",
    "3D Modeling", "Virtual Reality", "Augmented Reality", "Robotics"
]

# Skill levels
SKILL_LEVELS = ["Débutant", "Intermédiaire", "Avancé", "Expert"]

# Study Groups data
GROUPES_ETUDES = [
    {
        "nom": "Groupe Python Débutants",
        "description": "Apprentissage des bases de Python pour débutants. Séances hebdomadaires pour apprendre la syntaxe, les structures de données et les concepts fondamentaux.",
        "centre_interet": "Développement Web"
    },
    {
        "nom": "Club JavaScript Avancé",
        "description": "Exploration des concepts avancés de JavaScript : async/await, closures, prototypes, et frameworks modernes comme React et Vue.js.",
        "centre_interet": "Développement Web"
    },
    {
        "nom": "Data Science Collective",
        "description": "Groupe d'étude dédié à l'analyse de données, machine learning et visualisation. Projets pratiques avec Python, R et Tableau.",
        "centre_interet": "Data Science"
    },
    {
        "nom": "Cybersécurité & Ethical Hacking",
        "description": "Apprentissage des techniques de sécurité informatique, tests de pénétration et protection des systèmes. Environnement de lab sécurisé.",
        "centre_interet": "Cybersécurité"
    },
    {
        "nom": "Intelligence Artificielle Lab",
        "description": "Recherche et développement en IA : deep learning, NLP, computer vision. Utilisation de TensorFlow, PyTorch et projets collaboratifs.",
        "centre_interet": "Intelligence Artificielle"
    },
    {
        "nom": "Développement Mobile React Native",
        "description": "Création d'applications mobiles cross-platform avec React Native. De l'idée au déploiement sur les stores.",
        "centre_interet": "Mobile Development"
    },
    {
        "nom": "DevOps & Cloud Computing",
        "description": "Maîtrise des outils DevOps : Docker, Kubernetes, CI/CD, AWS, Azure. Automatisation et déploiement d'applications.",
        "centre_interet": "Cloud Computing"
    },
    {
        "nom": "UI/UX Design Workshop",
        "description": "Atelier de design d'interfaces utilisateur. Figma, Adobe XD, principes de design, recherche utilisateur et prototypage.",
        "centre_interet": "Design Thinking"
    },
    {
        "nom": "Blockchain Developers",
        "description": "Développement d'applications décentralisées (DApps), smart contracts avec Solidity, et exploration des cryptomonnaies.",
        "centre_interet": "Blockchain"
    },
    {
        "nom": "Game Development Unity",
        "description": "Création de jeux vidéo avec Unity. Programmation C#, game design, physique des jeux et publication sur différentes plateformes.",
        "centre_interet": "Gaming"
    },
    {
        "nom": "API REST & Microservices",
        "description": "Architecture et développement d'APIs REST, microservices, gestion des bases de données et optimisation des performances.",
        "centre_interet": "Cloud Computing"
    },
    {
        "nom": "Machine Learning Pratique",
        "description": "Application pratique du machine learning : classification, régression, clustering. Projets avec scikit-learn et datasets réels.",
        "centre_interet": "Intelligence Artificielle"
    },
    {
        "nom": "Entrepreneuriat Tech",
        "description": "Développement d'idées startup, business plan, pitch, financement. Rencontres avec entrepreneurs et investisseurs.",
        "centre_interet": "Startup"
    },
    {
        "nom": "Open Source Contributors",
        "description": "Contribution à des projets open source, Git avancé, collaboration communautaire et développement de portfolio.",
        "centre_interet": "Open Source"
    },
    {
        "nom": "Fintech Innovation",
        "description": "Technologies financières : paiements digitaux, trading algorithmique, cryptomonnaies, réglementation fintech.",
        "centre_interet": "Fintech"
    },
    {
        "nom": "IoT & Arduino Projects",
        "description": "Projets Internet des Objets avec Arduino, Raspberry Pi, capteurs et communication entre appareils connectés.",
        "centre_interet": "IoT"
    },
    {
        "nom": "Préparation Certifications",
        "description": "Préparation collective aux certifications IT : AWS, Azure, Google Cloud, CompTIA, Cisco. Sessions de révision et examens blancs.",
        "centre_interet": "Cloud Computing"
    },
    {
        "nom": "Agile & Scrum Masters",
        "description": "Pratique des méthodologies agiles, Scrum, Kanban. Simulations de projets et préparation aux certifications Scrum Master.",
        "centre_interet": "Agile"
    }
]

async def create_or_get_competence(nom: str):
    """Create or get existing competence"""
    competence = await Competence.get_or_none(nom=nom)
    if not competence:
        competence = await Competence.create(nom=nom, description=f"Compétence en {nom}")
    return competence

async def create_or_get_centre_interet(titre: str):
    """Create or get existing centre d'intérêt"""
    centre = await CentreInteret.get_or_none(titre=titre)
    if not centre:
        centre = await CentreInteret.create(titre=titre)
    return centre

async def generate_user_competences(user, filiere):
    """Generate random competences for a user based on their filiere"""
    filiere_competences = COMPETENCES_BY_FILIERE.get(filiere, [])
    
    # Select 4-8 competences from user's filiere
    num_filiere_comp = random.randint(4, min(8, len(filiere_competences)))
    selected_filiere_comp = random.sample(filiere_competences, num_filiere_comp)
    
    # Select 2-4 general competences
    num_general_comp = random.randint(2, 4)
    selected_general_comp = random.sample(GENERAL_COMPETENCES, num_general_comp)
    
    # Select 1-3 competences from other filieres (cross-domain)
    other_competences = []
    for other_filiere, competences in COMPETENCES_BY_FILIERE.items():
        if other_filiere != filiere:
            other_competences.extend(competences)
    
    num_other_comp = random.randint(1, 3)
    selected_other_comp = random.sample(other_competences, min(num_other_comp, len(other_competences)))
    
    # Combine all competences
    all_selected_comp = selected_filiere_comp + selected_general_comp + selected_other_comp
    
    # Create competence entries
    for comp_name in all_selected_comp:
        try:
            competence = await create_or_get_competence(comp_name)
            
            # Assign skill level based on competence type
            if comp_name in selected_filiere_comp:
                # Higher levels for filiere competences
                niveau = random.choices(
                    SKILL_LEVELS, 
                    weights=[10, 30, 40, 20]  # More likely to be intermediate/advanced
                )[0]
            elif comp_name in selected_general_comp:
                # Medium levels for general competences
                niveau = random.choices(
                    SKILL_LEVELS, 
                    weights=[20, 40, 30, 10]  # More likely to be beginner/intermediate
                )[0]
            else:
                # Lower levels for cross-domain competences
                niveau = random.choices(
                    SKILL_LEVELS, 
                    weights=[60, 30, 10, 0]  # Mostly beginner/intermediate
                )[0]
            
            await UtilisateurCompetence.create(
                utilisateur=user,
                competence=competence,
                niveau=niveau,
                statut="active"
            )
        except Exception as e:
            print(f"Error creating competence {comp_name} for user {user.email}: {e}")

async def generate_user_centres_interets(user):
    """Generate random centres d'intérêts for a user"""
    # Select 3-6 centres d'intérêts
    num_interests = random.randint(3, 6)
    selected_interests = random.sample(CENTRES_INTERETS, num_interests)
    
    for interest_name in selected_interests:
        try:
            centre = await create_or_get_centre_interet(interest_name)
            await UtilisateurCentreInteret.create(
                utilisateur=user,
                centreInteret=centre
            )
        except Exception as e:
            print(f"Error creating centre d'intérêt {interest_name} for user {user.email}: {e}")

async def generate_user_roles(user, niveau):
    """Generate random roles for a user based on their niveau"""
    # Everyone is a student
    try:
        await UtilisateurRole.create(
            utilisateur=user,
            role=RoleEnum.STUDENT,
            statut="active"
        )
    except Exception as e:
        print(f"Error creating student role for user {user.email}: {e}")
    
    # 20% chance to be a mentor (higher for advanced students)
    mentor_probability = 0.1 if niveau.value <= 2 else 0.25 if niveau.value == 3 else 0.35
    if random.random() < mentor_probability:
        try:
            await UtilisateurRole.create(
                utilisateur=user,
                role=RoleEnum.MENTOR,
                statut="active"
            )
        except Exception as e:
            print(f"Error creating mentor role for user {user.email}: {e}")
    
    # 5% chance to be a teacher (only for niveau 4-5)
    if niveau.value >= 4 and random.random() < 0.08:
        try:
            await UtilisateurRole.create(
                utilisateur=user,
                role=RoleEnum.TEACHER,
                statut="active"
            )
        except Exception as e:
            print(f"Error creating teacher role for user {user.email}: {e}")

async def create_study_groups():
    """Create study groups and assign users to them"""
    print("Creating study groups...")
    
    created_groups = []
    
    for group_data in GROUPES_ETUDES:
        try:
            # Get or create centre d'intérêt for this group
            centre_interet = await create_or_get_centre_interet(group_data["centre_interet"])
            
            # Create the group
            group = await Groupe.create(
                nom=group_data["nom"],
                description=group_data["description"],
                centreInteret=centre_interet
            )
            
            created_groups.append(group)
            
        except Exception as e:
            print(f"Error creating group {group_data['nom']}: {e}")
            continue
    
    print(f"✅ Created {len(created_groups)} study groups")
    
    # Assign users to groups randomly
    await assign_users_to_groups(created_groups)
    
    return created_groups

async def assign_users_to_groups(groups):
    """Randomly assign users to study groups based on their interests"""
    print("Assigning users to study groups...")
    
    users = await Utilisateur.all()
    total_assignments = 0
    
    for group in groups:
        try:
            # Get users with similar interests to this group
            centre_interet = await group.centreInteret
            
            # Find users who have this centre d'intérêt
            users_with_interest = await UtilisateurCentreInteret.filter(
                centreInteret=centre_interet
            ).prefetch_related('utilisateur')
            
            interested_users = [uc.utilisateur for uc in users_with_interest]
            
            # Also add some random users to diversify the groups
            other_users = [u for u in users if u not in interested_users]
            
            # Select 3-8 users with this interest + 1-3 random users
            num_interested = min(random.randint(3, 8), len(interested_users))
            num_random = min(random.randint(1, 3), len(other_users))
            
            selected_interested = random.sample(interested_users, num_interested) if interested_users else []
            selected_random = random.sample(other_users, num_random) if other_users else []
            
            group_members = selected_interested + selected_random
            
            # Assign users to group
            for user in group_members:
                try:
                    await UtilisateurGroupe.create(
                        utilisateur=user,
                        groupe=group
                    )
                    total_assignments += 1
                except Exception as e:
                    print(f"Error assigning user {user.email} to group {group.nom}: {e}")
                    
        except Exception as e:
            print(f"Error processing group {group.nom}: {e}")
            continue
    
    print(f"✅ Made {total_assignments} user-group assignments")
    
    # Print group statistics
    for group in groups:
        try:
            member_count = await UtilisateurGroupe.filter(groupe=group).count()
            print(f"  📚 {group.nom}: {member_count} membres")
        except Exception as e:
            print(f"Error counting members for {group.nom}: {e}")

async def populate_mock_data():
    """Populate database with mock users and their data"""
    try:

            
        print(f"Creating {len(users)} users...")
        created_count = 0
        
        for user_data in users:
            try:
                # Convert string filiere and niveau to enum values
                filiere_enum = getattr(FiliereEnum, user_data["filiere"])
                niveau_enum = getattr(NiveauEnum, f"{'_'.join(str(user_data['niveau']).upper().split())}_ANNEE", 
                                    list(NiveauEnum)[user_data["niveau"] - 1])
                
                # Create user
                user = await Utilisateur.create(
                    nom=user_data["nom"],
                    prenom=user_data["prenom"],
                    email=user_data["email"],
                    password=user_data["password"],  # Already hashed in mock data
                    score=user_data["score"],
                    avatar=user_data.get("avatar"),
                    discord=user_data.get("discord"),
                    linkedin=user_data.get("linkedin"),
                    filiere=filiere_enum,
                    niveau=niveau_enum,
                    profile_completed=user_data.get("profile_completed", True)
                )
                
                # Generate competences, interests, and roles for this user
                await generate_user_competences(user, filiere_enum)
                await generate_user_centres_interets(user)
                await generate_user_roles(user, niveau_enum)
                
                created_count += 1
                if created_count % 10 == 0:
                    print(f"Created {created_count} users...")
                    
            except Exception as e:
                print(f"Error creating user {user_data.get('email', 'unknown')}: {e}")
                continue
        
        print(f"✅ Successfully created {created_count} users with complete profiles!")
        
        # Create study groups and assign users
        await create_study_groups()
        
    except Exception as e:
        print(f"Error populating mock data: {e}")

async def clear_user_data():
    """Clear all competences, centres d'intérêts, and roles for all users"""
    
    await Tortoise.init(
        db_url="sqlite://db.sqlite3",
        modules={"models": ["app.models.models"]}
    )
    
    print("Clearing existing user data...")
    
    # Clear all relationships
    await UtilisateurCompetence.all().delete()
    await UtilisateurCentreInteret.all().delete()
    await UtilisateurRole.all().delete()
    await UtilisateurGroupe.all().delete()
    
    # Clear groups
    await Groupe.all().delete()
    
    print("✅ Cleared all user competences, centres d'intérêts, roles, and groups")
    
    await Tortoise.close_connections()
